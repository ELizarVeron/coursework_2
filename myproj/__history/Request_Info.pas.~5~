unit Request_Info;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.StdCtrls,Request_Agents_Class,TABLE_Requests_agent,  Data.Win.ADODB, Main_Class;

type
  TForm11 = class(TForm)
    ListBox1: TListBox;
    Label1: TLabel;
    Label2: TLabel;
    Label3: TLabel;
    Label5: TLabel;
    Label6: TLabel;
    Label4: TLabel;
    Label7: TLabel;
    Label8: TLabel;
    Label9: TLabel;
    Label10: TLabel;
    Button1: TButton;
    Button2: TButton;
    procedure Button2Click(Sender: TObject);
  private
    { Private declarations }
  public
   var Req_on_frame:  TRequest_agent;
  end;

var
  Form11: TForm11;

implementation

{$R *.dfm}

procedure TForm11.Button2Click(Sender: TObject);
begin
   var mc:TMain_class;
   mc:=TMain_Class.Create;
   mc.sql_delete(  '  Request_from_agent ' , ' ID_request_agent ' , Req_on_frame.ID_Request.ToString) ;
   var i:integer;
   for I := 0 to  TRequest_Agents_Class.array_of_requests_agent.Count-1 do
    if( TRequest_Agents_Class.array_of_requests_agent[i].ID_Request=Req_on_frame.ID_Request)
    then TRequest_Agents_Class.array_of_requests_agent.Delete(i);
   //TRequest_Agents_Class.load_frames;

    Close;

end;

end.
